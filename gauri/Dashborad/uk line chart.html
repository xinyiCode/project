






<!DOCTYPE html>
<html>
  <head>
    <title>Line Chart</title>

    <!--Load third-party javascript libraries-->
    <script src="../d3.v4.js"></script>
    <script src="../d3si.js"></script>
    

    <script>
        function drawLine(container, data, parameters={}) {
    // Select the default parameters or select from provided parameters
    const xCol = parameters['xCol'] || data.columns[0]
    const yCol = parameters['yCol'] 
    const colour = parameters['colour'] || "#f02035"

    // Create our D3 Simple object
    let chart = new D3SI(container, data, parameters)

    // Create our scales to map data to screen position
    let xScale = chart.xScaleBand(xCol) 
    let yScale = chart.yScaleLinear(yCol) 

    // Define the line
    let linepoints = chart.getLineGenerator(xCol, yCol, xScale, yScale)

    // Get an object representing the one line
    let lineSelection = chart.bindDatum("path")

    // Add the line to the chart
    lineSelection
        .attr("class",      "line")
        .attr("d",          linepoints)
        .attr("transform",  "translate(" + xScale.bandwidth()/2 + ",0)")      // move to right to align data points with axis
        .style("stroke",    colour)    

    // Add axes
    chart.drawAxisXBottom(xScale, xCol)
    chart.drawAxisYLeft(yScale, yCol) 
}



    </script>



    <!--Load style sheet-->
    <link rel="stylesheet" href="main.css" />
    
  </head>
  <body>
    <!--This is where the chart will be drawn-->
    <div id="chart"></div>

    <!--Script to draw the charts-->
    <script>    
      // Load the data and use it to build the chart
      loadCsv('line chart.csv', buildChart)

      // Define the function that actually builds the chart
      function buildChart(error, data) {
        // Make sure numbers load as numbers not strings
        convertNumbers(data)

        // Setup parameters for the chart
        let chartParams = {}
        chartParams["xCol"] = "Country"
        chartParams["yCol"] = "Gov Spending"

        // Draw the chart  
        drawLine("#chart", data, chartParams)
        }
    </script>
  </body>
</html>
